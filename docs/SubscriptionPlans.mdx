export const metadata = {
  title: 'Subscription Plans (PHP SDK)',
  description:
    'Learn how to retrieve subscription plans using the Vatly PHP SDK.',
}

# Subscription Plans

Subscription plans define recurring billing products. Create and manage plans in the Vatly dashboard, then use the API to retrieve them. {{ className: 'lead' }}

## The Subscription Plan Resource

Below you'll find all properties for the Vatly Subscription Plan resource.

### Properties

<Properties>
  <Property name="id" type="string">
    Unique identifier for the plan (`plan_...`).
  </Property>
  <Property name="name" type="string">
    Display name of the plan.
  </Property>
  <Property name="description" type="string|null">
    Description of the plan.
  </Property>
  <Property name="amount" type="integer">
    Price in cents.
  </Property>
  <Property name="currency" type="string">
    Three-letter ISO currency code.
  </Property>
  <Property name="interval" type="string">
    Billing interval: `day`, `week`, `month`, or `year`.
  </Property>
  <Property name="intervalCount" type="integer">
    Number of intervals between billings.
  </Property>
  <Property name="trialDays" type="integer|null">
    Default trial period in days.
  </Property>
  <Property name="testmode" type="bool">
    Whether this is a test plan.
  </Property>
  <Property name="active" type="bool">
    Whether the plan is active.
  </Property>
  <Property name="createdAt" type="string">
    Creation timestamp (ISO 8601).
  </Property>
</Properties>

---

## Retrieve a plan {{ tag: 'GET', label: '/v1/subscription-plans/:id' }}

<Row>
  <Col>

    Retrieve a subscription plan by its ID.

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="GET" label="/v1/subscription-plans/:id">

    ```php {{ title: 'PHP' }}
    $plan = $vatly->subscriptionPlans->get('plan_abc123');

    echo $plan->name;
    echo $plan->amount / 100 . ' ' . $plan->currency;
    echo $plan->interval;
    ```

    </CodeGroup>

  </Col>
</Row>

---

## List all plans {{ tag: 'GET', label: '/v1/subscription-plans' }}

<Row>
  <Col>

    Retrieve a paginated list of all subscription plans.

    ### Optional attributes

    <Properties>
      <Property name="limit" type="integer">
        The number of plans to return (default: 10, max: 100).
      </Property>
      <Property name="startingAfter" type="string">
        A cursor for pagination.
      </Property>
    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="GET" label="/v1/subscription-plans">

    ```php {{ title: 'PHP' }}
    $plans = $vatly->subscriptionPlans->list();

    foreach ($plans as $plan) {
        echo $plan->name . ': ' . ($plan->amount / 100) . ' ' . $plan->currency;
    }
    ```

    </CodeGroup>

  </Col>
</Row>
